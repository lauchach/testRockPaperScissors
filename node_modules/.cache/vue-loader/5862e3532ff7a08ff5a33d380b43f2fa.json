{"remainingRequest":"/Users/lauchach/testRockPaperScissors/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lauchach/testRockPaperScissors/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lauchach/testRockPaperScissors/src/views/Home.vue","mtime":1594732675273},{"path":"/Users/lauchach/testRockPaperScissors/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lauchach/testRockPaperScissors/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lauchach/testRockPaperScissors/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lauchach/testRockPaperScissors/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBzb2NrZXQgZnJvbSAnLi4vc29ja2V0U2VydmVyJzsKaW1wb3J0IGlvIGZyb20gJ3NvY2tldC5pby1jbGllbnQnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIb21lJywKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICB1c2VyczogW10sCiAgICAgIHNvY2tldDogJycsCiAgICAgIGlzTG9iYnlTaG93OiBmYWxzZSwKICAgICAgZW50ZXJSb29tOiBmYWxzZSwKICAgICAgcm9vbTogW10sCiAgICAgIG15Um9vbToge30sCiAgICAgIHRpbWU6IDAsCiAgICAgIHNob3dXaW5Mb3NlOiAnJywKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgam9pblNlcnZlcigpIHsKICAgICAgY29uc29sZS5sb2coJ2pvaW5Mb2J5Jyk7CiAgICAgIHRoaXMuc29ja2V0ID0gaW8oJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcpOwogICAgICB0aGlzLnNvY2tldC5lbWl0KCdqb2luTG9ieScsIHsgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUgfSk7CiAgICAgIHRoaXMubW91bnRlZCgpOwogICAgfSwKICAgIGFkZFJvb20oKSB7CiAgICAgIHRoaXMuc29ja2V0LmVtaXQoJ25ld1Jvb20nLCB7IHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lIH0pOwogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgIHRoaXMuc29ja2V0Lm9uKCdyb29tJywgKGRhdGEpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygncm9vbScsIGRhdGEpOwogICAgICAgIHRoaXMucm9vbSA9IGRhdGE7CiAgICAgIH0pOwogICAgICB0aGlzLnNvY2tldC5vbigndXNlck9ubGluZScsIChkYXRhKSA9PiB7CiAgICAgICAgdGhpcy51c2VycyA9IChkYXRhKTsKICAgICAgICBjb25zb2xlLmxvZygndXNlck9ubGluZScsIGRhdGEpOwogICAgICAgIHRoaXMuam9pbkxvYnkoZGF0YSk7CiAgICAgIH0pOwogICAgICB0aGlzLnNvY2tldC5vbignam9pblJvb20nLCAoZGF0YSkgPT4gewogICAgICAgIHRoaXMudXNlcnMuam9pblJvb20gPSAoZGF0YSk7CiAgICAgICAgY29uc29sZS5sb2coJ2pvaW5Sb29tOicsIGRhdGEpOwogICAgICB9KTsKICAgICAgdGhpcy5zb2NrZXQub24oJ2NsaWVudE9uUm9vbScsIChkYXRhKSA9PiB7CiAgICAgICAgLy8gdGhpcy51c2Vycy5qb2luUm9vbSA9IChkYXRhKTsKICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50T25Sb29tOicsIGRhdGEpOwogICAgICB9KTsKICAgICAgdGhpcy5zb2NrZXQub24oJ2VudGVyUm9vbScsIChkYXRhKSA9PiB7CiAgICAgICAgdGhpcy5lbnRlclJvb20gPSB0cnVlOwogICAgICAgIHRoaXMuc2V0Um9vbURhdGEoZGF0YSwgdGhpcy51c2VybmFtZSk7CiAgICAgICAgLy8gdGhpcy51c2Vycy5qb2luUm9vbSA9IChkYXRhKTsKICAgICAgICBjb25zb2xlLmxvZygnZW50ZXJSb29tOicsIGRhdGEpOwogICAgICB9KTsKICAgICAgdGhpcy5zb2NrZXQub24oJ3BsYXlpbmcnLCAoZGF0YSkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdwbGF5aW5nOicsIGRhdGEpOwogICAgICAgIHRoaXMudGltZSA9IGRhdGE7CiAgICAgICAgaWYgKGRhdGEgPT09IDEwKSB7CiAgICAgICAgICB0aGlzLnNob3dXaW5Mb3NlID0gJyc7CiAgICAgICAgfSAvLyDguITguKfguKMg4Lih4Li1IEV2ZW50IOC5hOC4p+C5iSBzZXQgbmV3Um9vbQogICAgICB9KTsKICAgICAgdGhpcy5zb2NrZXQub24oJ3Jlc3VsdCcsIChkYXRhKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdDonLCBkYXRhKTsKICAgICAgICB0aGlzLnNldFJvb21EYXRhKGRhdGEsIHRoaXMudXNlcm5hbWUpOwogICAgICB9KTsKICAgICAgdGhpcy5zb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCAoZGF0YSkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdkaXNjb25uZWN0JywgZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIGpvaW5Mb2J5KHVzZXIpIHsKICAgICAgaWYgKHVzZXIpIHsKICAgICAgICBpZiAoKHVzZXIpLmZpbmQoKHYpID0+IHYudXNlcm5hbWUgPT09IHRoaXMudXNlcm5hbWUpKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnaWZpZicsIHRoaXMudXNlcm5hbWUpOwogICAgICAgICAgdGhpcy5pc0xvYmJ5U2hvdyA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKCdHb3RvbG9ieScpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCdub3QgdXNlcicpOwogICAgICB9CiAgICB9LAogICAgam9pblJvb20oZGF0YSkgewogICAgICBjb25zdCBqb2luUm9vbSA9IHsKICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICByb29tOiBkYXRhLAogICAgICB9OwogICAgICBjb25zb2xlLmxvZygnam9pblJvb20nLCBqb2luUm9vbSk7CiAgICAgIHRoaXMuc29ja2V0LmVtaXQoJ2pvaW5Sb29tJywgam9pblJvb20pOwogICAgICBjb25zb2xlLmxvZygnam9pblJvb20oZGF0YSknLCBqb2luUm9vbShkYXRhKSk7CiAgICB9LAogICAgc2V0Um9vbURhdGEoZGF0YSwgdXNlcm5hbWUpIHsKICAgICAgY29uc3QgYSA9IE9iamVjdC52YWx1ZXMoZGF0YS5jbGllbnQpOwogICAgICB0aGlzLm15Um9vbSA9IHsKICAgICAgICBuYW1lUm9vbTogZGF0YS5uYW1lUm9vbSwKICAgICAgICBzdGF0dXM6IGRhdGEuc3RhdHVzLAogICAgICAgIGNsaWVudDogZGF0YS5jbGllbnQsCiAgICAgICAgbXk6IHVzZXJuYW1lLAogICAgICAgIHBsYXJ5ZXIxOiBhLmxlbmd0aCA9PT0gMSA/ICcnIDogYS5maW5kKChlKSA9PiBlLnVzZXJzID09PSB1c2VybmFtZSksCiAgICAgICAgcGxhcnllcjI6IGEubGVuZ3RoID09PSAxID8gJycgOiBhLmZpbmQoKGUpID0+IGUudXNlcnMgIT09IHVzZXJuYW1lKSwKICAgICAgfTsKICAgICAgY29uc29sZS5sb2coJ215Um9vbScsIHRoaXMubXlSb29tKTsKICAgICAgaWYgKHRoaXMubXlSb29tLnBsYXJ5ZXIxLndpbm5lciA9PT0gdGhpcy5teVJvb20ucGxhcnllcjIud2lubmVyICYmIHRoaXMubXlSb29tLnBsYXJ5ZXIxLndpbm5lcgogICAgICA9PT0gZmFsc2UgJiYgdGhpcy5teVJvb20ucGxhcnllcjIud2lubmVyID09PSBmYWxzZSkgewogICAgICAgIHRoaXMuc2hvd1dpbkxvc2UgPSAnZHJhdyc7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5teVJvb20ucGxhcnllcjEud2lubmVyID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5zaG93V2luTG9zZSA9ICd3aW4nOwogICAgICB9IGVsc2UgaWYgKHRoaXMubXlSb29tLnBsYXJ5ZXIxLndpbm5lciA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLnNob3dXaW5Mb3NlID0gJ2xvc2UnOwogICAgICB9CiAgICB9LAogICAgYmV0dGluZyhkYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICBjb25zdCBiZXREYXRhID0gewogICAgICAgIHVzZXJzOiB0aGlzLnVzZXJuYW1lLAogICAgICAgIG5hbWVSb29tOiB0aGlzLm15Um9vbS5uYW1lUm9vbSwKICAgICAgICBiZXQ6IGRhdGEsCiAgICAgICAgd2lubmVyOiBmYWxzZSwKICAgICAgfTsKICAgICAgdGhpcy5zb2NrZXQuZW1pdCgnYmV0dGluZycsIGJldERhdGEpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n\n    <div v-if=\"enterRoom === false\">\n      <div>\n        <b-card-group deck>\n          <b-card\n              border-variant=\"primary\"\n              header=\"Nickname\"\n              header-bg-variant=\"primary\"\n              header-text-variant=\"white\"\n              align=\"center\"\n            >\n            <div>\n              <b-form inline>\n                <b-input id=\"inline-form-input-name\"\n                  v-model=\"username\"\n                  class=\"mb-2 mr-sm-2 mb-sm-0\"\n                  placeholder=\"Name\"></b-input>\n                <b-button\n                  @click=\"joinServer()\"\n                  variant=\"primary\">Go</b-button>\n              </b-form>\n            </div>\n          </b-card>\n          </b-card-group>\n      </div>\n      <div v-if=\"isLobbyShow\">\n        <h1>isLobbyShow</h1>\n        <div>\n          <div class=\"mt-3\">\n            <b-card-group deck>\n              <b-card\n                @click=\"addRoom()\"\n                bg-variant=\"info\"\n                text-variant=\"white\"\n                header=\"addRoom\"\n                class=\"text-center\">\n                <b-card-text>+</b-card-text>\n              </b-card>\n\n              <b-card @click=\"joinRoom(room.nameRoom)\"\n              bg-variant=\"warning\" text-variant=\"white\" header=\"Warning\" class=\"text-center\"\n              v-for=\"(room, i) in room\" :key=\"i\">\n                <b-card-text>{{ room.nameRoom }}</b-card-text>\n                <b-card-text>{{ room.status }}</b-card-text>\n                <b-card-text v-if=\"room.client.length > 1\">\n                  {{ room.client[0].users }} vs {{ room.client[1].users }}</b-card-text>\n                <b-card-text v-else-if=\"room.client.length > 0\">{{ room.client[0].users }}\n                  vs -\n                </b-card-text>\n                <b-card-text v-else > - vs - </b-card-text>\n              </b-card>\n\n              <b-card header=\"userOnline\" class=\"text-center\">\n                <ul id=\"users\">\n                  <li v-for=\"v in users\" :key=\"v.username\">\n                    {{ v.username }} {{ v.score }}\n                  </li>\n                </ul>\n              </b-card>\n            </b-card-group>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      in room\n      <b-container class=\"bv-example-row bv-example-row-flex-cols\">\n        <b-row>\n          <b-col align-self=\"center\">{{ this.time }}</b-col>\n          <b-col align-self=\"start\">{{ this.myRoom.nameRoom }}</b-col>\n          <b-col align-self=\"stretch\">\n            <b-card bg-variant=\"secondary\"\n              text-variant=\"white\"\n              class=\"text-center\">\n              <b-card-text>{{ this.myRoom.plaryer2.users }}</b-card-text>\n              <b-card-text>Score</b-card-text>\n              <b-card-text>{{ this.myRoom.plaryer2.score }}</b-card-text>\n            </b-card>\n          </b-col>\n        </b-row>\n        <b-row>\n          <b-col align-self=\"stretch\"></b-col>\n          <b-col align-self=\"stretch\" v-if=\"this.showWinLose === ''\" ></b-col>\n          <b-col align-self=\"stretch\" v-else-if=\"this.showWinLose === 'win'\" >you win</b-col>\n          <b-col align-self=\"stretch\" v-else-if=\"this.showWinLose === 'draw'\" >draw</b-col>\n          <b-col align-self=\"stretch\" v-else-if=\"this.showWinLose === 'lose'\" >you lose</b-col>\n          <b-col align-self=\"stretch\" v-else >code 404 </b-col>\n          <b-col align-self=\"stretch\" v-if=\"this.myRoom.plaryer2.bet === ''\" >\n            <img src=\"../img/waiting.png\" alt=\"\" width=\"100%\"/></b-col>\n          <b-col align-self=\"stretch\" v-else-if=\"this.myRoom.plaryer2.bet === 'rock'\" >\n            <img src=\"../img/rock.png\" alt=\"\" width=\"100%\"/></b-col>\n          <b-col align-self=\"stretch\" v-else-if=\"this.myRoom.plaryer2.bet === 'scissors'\" >\n            <img src=\"../img/scissors.png\" alt=\"\" width=\"100%\"/></b-col>\n          <b-col align-self=\"stretch\" v-else-if=\"this.myRoom.plaryer2.bet === 'paper'\" >\n            <img src=\"../img/paper.png\" alt=\"\" width=\"100%\"/></b-col>\n          <b-col align-self=\"stretch\" v-else >\n            <img src=\"../img/waiting.png\" alt=\"\" width=\"100%\"/></b-col>\n        </b-row>\n        <b-row>\n          <b-col align-self=\"stretch\">\n            <b-card bg-variant=\"success\"\n              text-variant=\"white\"\n              class=\"text-center\">\n              <b-card-text>{{ this.myRoom.plaryer1.users }}</b-card-text>\n              <b-card-text>Score</b-card-text>\n              <b-card-text>{{ this.myRoom.plaryer1.score }}</b-card-text>\n            </b-card>\n            </b-col>\n          <b-col align-self=\"stretch\">\n            <img src=\"../img/rock.png\" @click=\"betting('rock')\" alt=\"\" width=\"100%\"/>\n          </b-col>\n          <b-col align-self=\"stretch\"><img src=\"../img/scissors.png\" @click=\"betting('scissors')\"\n          alt=\"\" width=\"100%\" /></b-col>\n          <b-col align-self=\"stretch\"><img src=\"../img/paper.png\" @click=\"betting('paper')\"\n          alt=\"\" width=\"100%\"/></b-col>\n        </b-row>\n      </b-container>\n    </div>\n  </div>\n</template>\n\n<script>\n// import socket from '../socketServer';\nimport io from 'socket.io-client';\n\nexport default {\n  name: 'Home',\n  components: {},\n  data() {\n    return {\n      username: '',\n      users: [],\n      socket: '',\n      isLobbyShow: false,\n      enterRoom: false,\n      room: [],\n      myRoom: {},\n      time: 0,\n      showWinLose: '',\n    };\n  },\n\n  methods: {\n    joinServer() {\n      console.log('joinLoby');\n      this.socket = io('http://localhost:3000');\n      this.socket.emit('joinLoby', { username: this.username });\n      this.mounted();\n    },\n    addRoom() {\n      this.socket.emit('newRoom', { username: this.username });\n    },\n    mounted() {\n      this.socket.on('room', (data) => {\n        console.log('room', data);\n        this.room = data;\n      });\n      this.socket.on('userOnline', (data) => {\n        this.users = (data);\n        console.log('userOnline', data);\n        this.joinLoby(data);\n      });\n      this.socket.on('joinRoom', (data) => {\n        this.users.joinRoom = (data);\n        console.log('joinRoom:', data);\n      });\n      this.socket.on('clientOnRoom', (data) => {\n        // this.users.joinRoom = (data);\n        console.log('clientOnRoom:', data);\n      });\n      this.socket.on('enterRoom', (data) => {\n        this.enterRoom = true;\n        this.setRoomData(data, this.username);\n        // this.users.joinRoom = (data);\n        console.log('enterRoom:', data);\n      });\n      this.socket.on('playing', (data) => {\n        console.log('playing:', data);\n        this.time = data;\n        if (data === 10) {\n          this.showWinLose = '';\n        } // ควร มี Event ไว้ set newRoom\n      });\n      this.socket.on('result', (data) => {\n        console.log('result:', data);\n        this.setRoomData(data, this.username);\n      });\n      this.socket.on('disconnect', (data) => {\n        console.log('disconnect', data);\n      });\n    },\n    joinLoby(user) {\n      if (user) {\n        if ((user).find((v) => v.username === this.username)) {\n          console.log('ifif', this.username);\n          this.isLobbyShow = true;\n        }\n        console.log('Gotoloby');\n      } else {\n        console.log('not user');\n      }\n    },\n    joinRoom(data) {\n      const joinRoom = {\n        username: this.username,\n        room: data,\n      };\n      console.log('joinRoom', joinRoom);\n      this.socket.emit('joinRoom', joinRoom);\n      console.log('joinRoom(data)', joinRoom(data));\n    },\n    setRoomData(data, username) {\n      const a = Object.values(data.client);\n      this.myRoom = {\n        nameRoom: data.nameRoom,\n        status: data.status,\n        client: data.client,\n        my: username,\n        plaryer1: a.length === 1 ? '' : a.find((e) => e.users === username),\n        plaryer2: a.length === 1 ? '' : a.find((e) => e.users !== username),\n      };\n      console.log('myRoom', this.myRoom);\n      if (this.myRoom.plaryer1.winner === this.myRoom.plaryer2.winner && this.myRoom.plaryer1.winner\n      === false && this.myRoom.plaryer2.winner === false) {\n        this.showWinLose = 'draw';\n      } else if (this.myRoom.plaryer1.winner === true) {\n        this.showWinLose = 'win';\n      } else if (this.myRoom.plaryer1.winner === false) {\n        this.showWinLose = 'lose';\n      }\n    },\n    betting(data) {\n      console.log(data);\n      const betData = {\n        users: this.username,\n        nameRoom: this.myRoom.nameRoom,\n        bet: data,\n        winner: false,\n      };\n      this.socket.emit('betting', betData);\n    },\n  },\n};\n</script>\n"]}]}